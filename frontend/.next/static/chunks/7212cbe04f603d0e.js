(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78583,e=>{"use strict";let s=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>s],78583)},71689,e=>{"use strict";let s=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],71689)},45306,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(18566),l=e.i(71689),r=e.i(75254);let i=(0,r.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),c=(0,r.default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var n=e.i(78583);let d=(0,r.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),x=(0,r.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var m=e.i(75918);function o(){let e=(0,t.useRouter)(),r=(0,t.useParams)().id,[o,h]=(0,a.useState)(null),[p,u]=(0,a.useState)(!0),[j,y]=(0,a.useState)(null),[f,g]=(0,a.useState)("preview");(0,a.useEffect)(()=>{b()},[r]);let b=async()=>{try{u(!0);let e=await fetch(`/api/papers?search=${r}`),s=await e.json();s.papers&&s.papers.length>0?h(s.papers[0]):y("Paper not found")}catch(e){y("Failed to fetch paper")}finally{u(!1)}},N=()=>{o?.file_url&&window.open(o.file_url,"_blank")},v=async()=>{if(o){let e=`${window.location.origin}/papers/${o.id}`;if(navigator.share)try{await navigator.share({title:o.title,text:`Check out this ${o.paper_type.replace("_"," ")}: ${o.title}`,url:e})}catch(s){navigator.clipboard.writeText(e)}else navigator.clipboard.writeText(e)}};return p?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):j||!o?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(d,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Paper Not Found"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:j||"The requested paper could not be found."}),(0,s.jsx)(m.Button,{onClick:()=>e.push("/"),children:"Back to Home"})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)(m.Button,{variant:"ghost",onClick:()=>e.back(),children:[(0,s.jsx)(l.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,s.jsx)("h1",{className:"text-xl font-semibold text-gray-900 truncate max-w-md",children:o.title})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(m.Button,{variant:"outline",onClick:v,children:[(0,s.jsx)(c,{className:"h-4 w-4 mr-2"}),"Share"]}),(0,s.jsxs)(m.Button,{onClick:N,children:[(0,s.jsx)(i,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Paper Information"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Type"}),(0,s.jsx)("p",{className:"font-medium text-gray-900 capitalize",children:o.paper_type.replace("_"," ")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Subject"}),(0,s.jsx)("p",{className:"font-medium text-gray-900",children:o.subjects.name}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:o.subjects.code})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Course"}),(0,s.jsx)("p",{className:"font-medium text-gray-900",children:o.subjects.years.courses.name}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:o.subjects.years.courses.code})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Faculty"}),(0,s.jsx)("p",{className:"font-medium text-gray-900",children:o.subjects.years.courses.faculties.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Year"}),(0,s.jsxs)("p",{className:"font-medium text-gray-900",children:["Year ",o.subjects.years.year," - ",o.subjects.years.semester]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"File Size"}),(0,s.jsx)("p",{className:"font-medium text-gray-900",children:(e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]})(o.file_size)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Uploaded"}),(0,s.jsx)("p",{className:"font-medium text-gray-900",children:new Date(o.created_at).toLocaleDateString()})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(m.Button,{className:"w-full",onClick:N,children:[(0,s.jsx)(i,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),"mock_test"===o.paper_type&&(0,s.jsxs)(m.Button,{variant:"outline",className:"w-full",children:[(0,s.jsx)(n.FileText,{className:"h-4 w-4 mr-2"}),"Take Test"]}),(0,s.jsxs)(m.Button,{variant:"outline",className:"w-full",onClick:()=>{alert("Error reporting feature coming soon!")},children:[(0,s.jsx)(d,{className:"h-4 w-4 mr-2"}),"Report Error"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Related Papers"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["More papers from ",o.subjects.name]}),(0,s.jsxs)(m.Button,{variant:"ghost",size:"sm",className:"w-full justify-start",children:[(0,s.jsx)(x,{className:"h-4 w-4 mr-2"}),"View Related Papers"]})]})]})]})}),(0,s.jsxs)("div",{className:"lg:col-span-3",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,s.jsx)("div",{className:"border-b px-6 py-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Paper Preview"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(m.Button,{variant:"preview"===f?"default":"outline",size:"sm",onClick:()=>g("preview"),children:"Preview"}),(0,s.jsx)(m.Button,{variant:"fullscreen"===f?"default":"outline",size:"sm",onClick:()=>g("fullscreen"),children:"Fullscreen"})]})]})}),(0,s.jsx)("div",{className:`${"fullscreen"===f?"h-screen":"h-96"} bg-gray-100`,children:o.file_url?(0,s.jsx)("iframe",{src:o.file_url,className:"w-full h-full border-0",title:o.title}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(n.FileText,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Preview not available"}),(0,s.jsxs)(m.Button,{onClick:N,children:[(0,s.jsx)(i,{className:"h-4 w-4 mr-2"}),"Download to View"]})]})})}),o.subjects.description&&(0,s.jsxs)("div",{className:"border-t px-6 py-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"About this Subject"}),(0,s.jsx)("p",{className:"text-gray-600",children:o.subjects.description})]})]}),"past_paper"===o.paper_type&&(0,s.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"font-semibold text-blue-900 mb-3",children:"Study Tips"}),(0,s.jsxs)("ul",{className:"space-y-2 text-blue-800",children:[(0,s.jsx)("li",{children:"• Time yourself while practicing to simulate exam conditions"}),(0,s.jsx)("li",{children:"• Review the marking scheme to understand how points are awarded"}),(0,s.jsx)("li",{children:"• Focus on topics that appear frequently across multiple papers"}),(0,s.jsx)("li",{children:"• Practice with past papers from previous years for comprehensive preparation"})]})]}),"mock_test"===o.paper_type&&(0,s.jsxs)("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"font-semibold text-green-900 mb-3",children:"Test Instructions"}),(0,s.jsxs)("ul",{className:"space-y-2 text-green-800",children:[(0,s.jsx)("li",{children:"• Find a quiet place with no distractions"}),(0,s.jsx)("li",{children:"• Make sure you have enough time to complete the test"}),(0,s.jsx)("li",{children:"• Read each question carefully before answering"}),(0,s.jsx)("li",{children:"• Review your answers before submitting if time permits"})]}),(0,s.jsx)(m.Button,{className:"mt-4 bg-green-600 hover:bg-green-700",children:"Start Mock Test"})]})]})]})})]})}e.s(["default",()=>o],45306)}]);